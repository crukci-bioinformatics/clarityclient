<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2019-07-17 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>CRUK-CI Genologics API Client &#x2013; </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                CRUK-CI Genologics API Client
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
                <div class="xleft">
        <span id="publishDate">Last Published: 2019-07-17</span>
                  &nbsp;| <span id="projectVersion">Version: 2.26.1</span>
                      </div>
            <div class="xright">      
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
                                <h5>User Guide</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="installing.html" title="Installation">Installation</a>
            </li>
                                                                                                                              <li class="expanded">
                          <a href="usageoverview.html" title="Usage">Usage</a>
                    <ul>
                      <li class="none">
                          <a href="spring.html" title="Spring Configuration">Spring Configuration</a>
            </li>
                      <li class="none">
            <strong>Basic Usage</strong>
          </li>
                      <li class="none">
                          <a href="caching.html" title="Caching">Caching</a>
            </li>
                      <li class="none">
                          <a href="serverside.html" title="Server Deployment">Server Deployment</a>
            </li>
              </ul>
        </li>
                  <li class="none">
                          <a href="issues.html" title="Known Issues">Known Issues</a>
            </li>
                  <li class="none">
                          <a href="references.html" title="Reference Documentation">Reference Documentation</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                      <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                 
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2><a name="Using_The_Client_In_Your_Code"></a>Using The Client In Your Code</h2>
<p>All the work of the client goes through the <tt>GenologicsAPI</tt> interface. <a href="./apidocs/org/cruk/genologics/api/GenologicsAPI.html">Take a look at its Javadoc for details of the operations it offers.</a> You should also consult the <a class="externalLink" href="http://genologics.com/developer">Genologics Developer documentation</a> for what operations are supported by the API and what they do.</p>
<p>Before you can start making calls to the API, you need to set the client up with the URL of the Genologics API and credentials to access it. The <tt>setServer</tt> method sets the base URL for API calls and should be set as the base of any other Clarity URL. Don't include the &quot;<tt>/api/v2</tt>&quot; root of the path in this URL, just the base up to and including the port. The credentials need to be the user name and password of a user who has API access to the Genologics system.</p>
<p>Operations that use the file store (<tt>uploadFile</tt> and <tt>deleteAndRemoveFile</tt>) also need the credentials to access the file store set. This is the user name of the file store owner (usually &quot;<i>glsftp</i>&quot;) and its password. The file store host is, by default, taken to be the same as the LIMS server. If it is on a different host, this needs to be set explicitly with a call to <tt>setFilestoreServer</tt>.</p>
<p>The API client can also be configured with a properties file with a call to <tt>setConfiguration</tt> or at construction time (this needs a tweaking of the Spring configuration). The properties file should contain:</p>
<ul>
<li><tt>api.server</tt> - The root URL for the LIMS API.</li>
<li><tt>api.user</tt> - User name for the account to access the API.</li>
<li><tt>api.pass</tt> - The password for the user given in <i>api.user</i>.</li>
<li><tt>filestore.server</tt> - The host name of the file store server.</li>
<li><tt>filestore.user</tt> - The user name for the file store owner.</li>
<li><tt>filestore.pass</tt> - The password for the user given in <i>filestore.user</i>.</li></ul>
<p>The properties file may also contain some other configuration options:</p>
<ul>
<li><tt>batch.size</tt> - The maximum number of objects to fetch/create/update in one call to the API.</li>
<li><tt>http.upload</tt> - Whether to use the HTTP file upload mechanism introduced with Clarity 4.0.</li>
<li><tt>http.upload.maximum</tt> - The maximum size of file that can be uploaded over HTTP.</li>
<li><tt>revert.to.sftp.upload</tt> - Whether it is permissible to revert to SFTP uploads if the file is too large to send over HTTP.</li>
<li><tt>http.direct.download</tt> - Whether to download files in a HTTP file store directly from their server or whether to download through the Clarity API.</li></ul>
<p>Any properties that are missing are quietly ignored when the properties are read. If required information is missing, errors will be raised when you make API calls.</p>
<div class="section">
<h3><a name="Thread_safety"></a>Thread safety</h3>
<p>With the usual provisos of no liability etc, we think the client is safe to use in multithreaded code once the initial configuration of the server and file store URLs and credentials are set and are subsequently not changed. The cache should also be safe to use with threaded code unless there is something tricky about Ehcache that we have missed.</p></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2013&#x2013;2019
                        <a href="http://www.cruk.cam.ac.uk">Cancer Research UK Cambridge Institute</a>.
            All rights reserved.    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
